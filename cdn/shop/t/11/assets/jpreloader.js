(function($){var items=new Array,errors=new Array,onComplete=function(){},current=0,jpreOptions={splashVPos:"35%",loaderVPos:"75%",splashID:"#jpreContent",showSplash:!0,showPercentage:!0,autoClose:!0,closeBtnText:"Start!",onetimeLoad:!1,debugMode:!1,splashFunction:function(){}},getCookie=function(){if(jpreOptions.onetimeLoad){for(var cookies=document.cookie.split("; "),i=0,parts;parts=cookies[i]&&cookies[i].split("=");i++)if(parts.shift()==="jpreLoader")return parts.join("=");return!1}else return!1},setCookie=function(expires){if(jpreOptions.onetimeLoad){var exdate=new Date;exdate.setDate(exdate.getDate()+expires);var c_value=expires==null?"":"expires="+exdate.toUTCString();document.cookie="jpreLoader=loaded; "+c_value}},createContainer=function(){if(jOverlay=$("<div></div>").attr("id","jpreOverlay").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999999}).appendTo("body"),jpreOptions.showSplash){jContent=$("<div></div>").attr("id","jpreSlide").appendTo(jOverlay);var conWidth=$(window).width()-$(jContent).width();$(jContent).css({position:"absolute",top:jpreOptions.splashVPos,left:Math.round(50/$(window).width()*conWidth)+"%"}),$(jContent).html($(jpreOptions.splashID).wrap("<div/>").parent().html()),$(jpreOptions.splashID).remove(),jpreOptions.splashFunction()}jLoader=$("<div></div>").attr("id","jpreLoader").appendTo(jOverlay);var posWidth=$(window).width()-$(jLoader).width();$(jLoader).css({position:"absolute",top:jpreOptions.loaderVPos,left:Math.round(50/$(window).width()*posWidth)+"%"}),jBar=$("<div></div>").attr("id","jpreBar").css({width:"0%",height:"100%"}).appendTo(jLoader),jpreOptions.showPercentage&&(jPer=$("<div></div>").attr("id","jprePercentage").css({position:"relative",height:"100%"}).appendTo(jLoader).html("Loading...")),jpreOptions.autoclose||(jButton=$("<div></div>").attr("id","jpreButton").on("click",function(){loadComplete()}).css({position:"relative",height:"100%"}).appendTo(jLoader).text(jpreOptions.closeBtnText).hide())},getImages=function(element){$(element).find("*:not(script)").each(function(){var url="";if($(this).css("background-image").indexOf("none")==-1&&$(this).css("background-image").indexOf("-gradient")==-1){if(url=$(this).css("background-image"),url.indexOf("url")!=-1){var temp=url.match(/url\((.*?)\)/);url=temp[1].replace(/\"/g,"")}}else $(this).get(0).nodeName.toLowerCase()=="img"&&typeof $(this).attr("src")!="undefined"&&(url=$(this).attr("src"));url.length>0&&items.push(url)})},preloading=function(){for(var i=0;i<items.length;i++)loadImg(items[i])},loadImg=function(url){var imgLoad=new Image;$(imgLoad).load(function(){completeLoading()}).error(function(){errors.push($(this).attr("src")),completeLoading()}).attr("src",url)},completeLoading=function(){current++;var per=Math.round(current/items.length*100);if($(jBar).stop().animate({width:per+"%"},500,"linear"),jpreOptions.showPercentage&&$(jPer).text(per+"%"),current>=items.length){if(current=items.length,setCookie(),jpreOptions.showPercentage&&$(jPer).text("100%"),jpreOptions.debugMode)var error=debug();$(jBar).stop().animate({width:"100%"},500,"linear",function(){jpreOptions.autoClose?loadComplete():$(jButton).fadeIn(1e3)})}},loadComplete=function(){$(jOverlay).fadeOut(800,function(){$(jOverlay).remove(),onComplete()})},debug=function(){if(errors.length>0){var str="ERROR - IMAGE FILES MISSING!!!\n\r";str+=errors.length+" image files cound not be found. \n\r",str+="Please check your image paths and filenames:\n\r";for(var i=0;i<errors.length;i++)str+="- "+errors[i]+"\n\r";return!0}else return!1};$.fn.jpreLoader=function(options,callback){return options&&$.extend(jpreOptions,options),typeof callback=="function"&&(onComplete=callback),$("body").css({display:"block"}),this.each(function(){getCookie()?($(jpreOptions.splashID).remove(),onComplete()):(createContainer(),getImages(this),preloading())})}})(jQuery);
//# sourceMappingURL=/cdn/shop/t/11/assets/jpreloader.js.map?v=66226905637123513171485153284
